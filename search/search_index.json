{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Introduction","text":""},{"location":"#overview","title":"Overview","text":"<p>This Docker Compose configuration sets up a service stack for Ocel 2.0, which includes a Postgres database, a PostgREST API, Swagger UI for API documentation, and pgAdmin for database management (commented out by default).</p>"},{"location":"#prerequisites","title":"Prerequisites","text":"<ul> <li>Docker and Docker Compose need to be installed on your machine.</li> <li>Environment variables must be set in your <code>.env</code> file or in your environment before running the compose file.</li> </ul>"},{"location":"#services","title":"Services","text":""},{"location":"#postgrest-db","title":"<code>postgrest-db</code>","text":"<ul> <li>A Postgres database running on Alpine for a minimal footprint.</li> </ul>"},{"location":"#postgrest","title":"<code>postgrest</code>","text":"<ul> <li>A PostgREST server to serve a REST API from the Postgres database.</li> </ul>"},{"location":"#swagger","title":"<code>swagger</code>","text":"<ul> <li>Swagger UI for testing and documenting the PostgREST API.</li> </ul>"},{"location":"#pgadmin","title":"<code>pgadmin</code>","text":"<ul> <li>Note: currently not deployed</li> <li>A web administration interface for the Postgres database.</li> </ul>"},{"location":"#environment-variables-table","title":"Environment Variables Table","text":"Variable Description Required Default Value Notes <code>POSTGRES_USER</code> Username for the Postgres database Yes <code>postgres</code> Set this in your <code>.env</code> file <code>POSTGRES_PASSWORD</code> Password for the Postgres user Yes <code>postgres</code> Set this in your <code>.env</code> file <code>POSTGRES_DB</code> Database name to be used Yes <code>ocelv2</code> Set this in your <code>.env</code> file <code>DB_ANON_ROLE</code> Anonymous role for PostgREST Yes <code>anon</code> Set this in your <code>.env</code> file <code>DB_AUTHN_ROLE</code> Authentication role for PostgREST Yes <code>authenticator</code> Set this in your <code>.env</code> file <code>DB_AUTHN_PASSWORD</code> Password for the PostgREST authentication role Yes <code>authenticator</code> Set this in your <code>.env</code> file <code>DB_SCHEMA</code> Database schema to be exposed by PostgREST Yes <code>public, api</code> Set this in your <code>.env</code> file <code>DB_SCHEMAS</code> Schemas to be exposed to REST clients No <code>public, api</code> Optional, set this in your <code>.env</code> file <code>DB_CONFIG</code> Enables in-database configuration No <code>true</code> Optional, set this in your <code>.env</code> file <code>DB_CHANNEL</code> Notification channel for PostgREST No <code>pgrst</code> Optional, set this in your <code>.env</code> file <code>API_URL</code> API URL for Swagger UI to access No <code>http://localhost:3000</code> Set this if you're using Swagger UI"},{"location":"#running-the-stack","title":"Running the Stack","text":"<p>To run the stack, navigate to the directory containing your <code>docker-compose.yml</code> and execute: <code>docker-compose up -d</code></p>"},{"location":"#accessing-the-services","title":"Accessing the Services","text":"<p>PostgREST API: Accessible at http://localhost:3000.</p> <p>Swagger UI: Accessible at http://localhost:8080.</p> <p>Postgres Database: Accessible on host's port 7032.</p>"},{"location":"#stopping-the-stack","title":"Stopping the Stack","text":"<p>To stop and remove the services, execute: <code>docker-compose down</code></p>"},{"location":"#security-notes","title":"Security Notes","text":"<p>Remember to replace the placeholder values with secure passwords and secrets before deployment, and handle your credentials securely, especially in a production environment.</p>"},{"location":"#generate-tbls-docs","title":"Generate tbls docs","text":"<p>Generate database documentation with tbls:  <code>tbls doc postgres://postgres:postgres@127.0.0.1:7032/ocelv2?sslmode=disable</code></p>"},{"location":"db-docs/","title":"Database Documentation","text":""},{"location":"db-docs/#tables","title":"Tables","text":"Name Columns Comment Type public.event 3 BASE TABLE public.event_attribute 3 BASE TABLE public.event_attribute_value 4 BASE TABLE public.event_object_relationship 4 BASE TABLE public.event_type 2 BASE TABLE public.object 2 BASE TABLE public.object_attribute 3 BASE TABLE public.object_attribute_value 5 BASE TABLE public.object_relationship 4 BASE TABLE public.object_type 2 BASE TABLE public.qualifier 2 BASE TABLE"},{"location":"db-docs/#relations","title":"Relations","text":"<p>Generated by tbls</p>"},{"location":"db-docs/public.event/","title":"public.event","text":""},{"location":"db-docs/public.event/#description","title":"Description","text":""},{"location":"db-docs/public.event/#columns","title":"Columns","text":"Name Type Default Nullable Children Parents Comment event_id integer nextval('event_event_id_seq'::regclass) false public.event_attribute_value public.event_object_relationship event_type_id integer false public.event_type timestamp timestamp without time zone false"},{"location":"db-docs/public.event/#constraints","title":"Constraints","text":"Name Type Definition event_pkey PRIMARY KEY PRIMARY KEY (event_id) event_event_type_id_fkey FOREIGN KEY FOREIGN KEY (event_type_id) REFERENCES event_type(event_type_id)"},{"location":"db-docs/public.event/#indexes","title":"Indexes","text":"Name Definition event_pkey CREATE UNIQUE INDEX event_pkey ON public.event USING btree (event_id)"},{"location":"db-docs/public.event/#relations","title":"Relations","text":"<p>Generated by tbls</p>"},{"location":"db-docs/public.event_attribute/","title":"public.event_attribute","text":""},{"location":"db-docs/public.event_attribute/#description","title":"Description","text":""},{"location":"db-docs/public.event_attribute/#columns","title":"Columns","text":"Name Type Default Nullable Children Parents Comment event_attribute_id integer nextval('event_attribute_event_attribute_id_seq'::regclass) false public.event_attribute_value event_type_id integer false public.event_type name varchar(255) false"},{"location":"db-docs/public.event_attribute/#constraints","title":"Constraints","text":"Name Type Definition event_attribute_pkey PRIMARY KEY PRIMARY KEY (event_attribute_id) event_attribute_event_type_id_fkey FOREIGN KEY FOREIGN KEY (event_type_id) REFERENCES event_type(event_type_id)"},{"location":"db-docs/public.event_attribute/#indexes","title":"Indexes","text":"Name Definition event_attribute_pkey CREATE UNIQUE INDEX event_attribute_pkey ON public.event_attribute USING btree (event_attribute_id)"},{"location":"db-docs/public.event_attribute/#relations","title":"Relations","text":"<p>Generated by tbls</p>"},{"location":"db-docs/public.event_attribute_value/","title":"public.event_attribute_value","text":""},{"location":"db-docs/public.event_attribute_value/#description","title":"Description","text":""},{"location":"db-docs/public.event_attribute_value/#columns","title":"Columns","text":"Name Type Default Nullable Children Parents Comment event_attribute_value_id integer nextval('event_attribute_value_event_attribute_value_id_seq'::regclass) false event_id integer false public.event event_attribute_id integer false public.event_attribute value json false"},{"location":"db-docs/public.event_attribute_value/#constraints","title":"Constraints","text":"Name Type Definition event_attribute_value_event_attribute_id_fkey FOREIGN KEY FOREIGN KEY (event_attribute_id) REFERENCES event_attribute(event_attribute_id) event_attribute_value_pkey PRIMARY KEY PRIMARY KEY (event_attribute_value_id) event_attribute_value_event_id_fkey FOREIGN KEY FOREIGN KEY (event_id) REFERENCES event(event_id)"},{"location":"db-docs/public.event_attribute_value/#indexes","title":"Indexes","text":"Name Definition event_attribute_value_pkey CREATE UNIQUE INDEX event_attribute_value_pkey ON public.event_attribute_value USING btree (event_attribute_value_id)"},{"location":"db-docs/public.event_attribute_value/#relations","title":"Relations","text":"<p>Generated by tbls</p>"},{"location":"db-docs/public.event_object_relationship/","title":"public.event_object_relationship","text":""},{"location":"db-docs/public.event_object_relationship/#description","title":"Description","text":""},{"location":"db-docs/public.event_object_relationship/#columns","title":"Columns","text":"Name Type Default Nullable Children Parents Comment event_object_relationship_id integer nextval('event_object_relationship_event_object_relationship_id_seq'::regclass) false event_id integer false public.event object_id integer false public.object qualifier_id integer false public.qualifier"},{"location":"db-docs/public.event_object_relationship/#constraints","title":"Constraints","text":"Name Type Definition event_object_relationship_pkey PRIMARY KEY PRIMARY KEY (event_object_relationship_id) event_object_relationship_event_id_fkey FOREIGN KEY FOREIGN KEY (event_id) REFERENCES event(event_id) event_object_relationship_object_id_fkey FOREIGN KEY FOREIGN KEY (object_id) REFERENCES object(object_id) event_object_relationship_qualifier_id_fkey FOREIGN KEY FOREIGN KEY (qualifier_id) REFERENCES qualifier(qualifier_id)"},{"location":"db-docs/public.event_object_relationship/#indexes","title":"Indexes","text":"Name Definition event_object_relationship_pkey CREATE UNIQUE INDEX event_object_relationship_pkey ON public.event_object_relationship USING btree (event_object_relationship_id)"},{"location":"db-docs/public.event_object_relationship/#relations","title":"Relations","text":"<p>Generated by tbls</p>"},{"location":"db-docs/public.event_type/","title":"public.event_type","text":""},{"location":"db-docs/public.event_type/#description","title":"Description","text":""},{"location":"db-docs/public.event_type/#columns","title":"Columns","text":"Name Type Default Nullable Children Parents Comment event_type_id integer nextval('event_type_event_type_id_seq'::regclass) false public.event public.event_attribute name varchar(255) false"},{"location":"db-docs/public.event_type/#constraints","title":"Constraints","text":"Name Type Definition event_type_pkey PRIMARY KEY PRIMARY KEY (event_type_id)"},{"location":"db-docs/public.event_type/#indexes","title":"Indexes","text":"Name Definition event_type_pkey CREATE UNIQUE INDEX event_type_pkey ON public.event_type USING btree (event_type_id)"},{"location":"db-docs/public.event_type/#relations","title":"Relations","text":"<p>Generated by tbls</p>"},{"location":"db-docs/public.object/","title":"public.object","text":""},{"location":"db-docs/public.object/#description","title":"Description","text":""},{"location":"db-docs/public.object/#columns","title":"Columns","text":"Name Type Default Nullable Children Parents Comment object_id integer nextval('object_object_id_seq'::regclass) false public.event_object_relationship public.object_attribute_value public.object_relationship object_type_id integer false public.object_type"},{"location":"db-docs/public.object/#constraints","title":"Constraints","text":"Name Type Definition object_pkey PRIMARY KEY PRIMARY KEY (object_id) object_object_type_id_fkey FOREIGN KEY FOREIGN KEY (object_type_id) REFERENCES object_type(object_type_id)"},{"location":"db-docs/public.object/#indexes","title":"Indexes","text":"Name Definition object_pkey CREATE UNIQUE INDEX object_pkey ON public.object USING btree (object_id)"},{"location":"db-docs/public.object/#relations","title":"Relations","text":"<p>Generated by tbls</p>"},{"location":"db-docs/public.object_attribute/","title":"public.object_attribute","text":""},{"location":"db-docs/public.object_attribute/#description","title":"Description","text":""},{"location":"db-docs/public.object_attribute/#columns","title":"Columns","text":"Name Type Default Nullable Children Parents Comment object_attribute_id integer nextval('object_attribute_object_attribute_id_seq'::regclass) false public.object_attribute_value object_type_id integer false public.object_type name varchar(255) false"},{"location":"db-docs/public.object_attribute/#constraints","title":"Constraints","text":"Name Type Definition object_attribute_pkey PRIMARY KEY PRIMARY KEY (object_attribute_id) object_attribute_object_type_id_fkey FOREIGN KEY FOREIGN KEY (object_type_id) REFERENCES object_type(object_type_id)"},{"location":"db-docs/public.object_attribute/#indexes","title":"Indexes","text":"Name Definition object_attribute_pkey CREATE UNIQUE INDEX object_attribute_pkey ON public.object_attribute USING btree (object_attribute_id)"},{"location":"db-docs/public.object_attribute/#relations","title":"Relations","text":"<p>Generated by tbls</p>"},{"location":"db-docs/public.object_attribute_value/","title":"public.object_attribute_value","text":""},{"location":"db-docs/public.object_attribute_value/#description","title":"Description","text":""},{"location":"db-docs/public.object_attribute_value/#columns","title":"Columns","text":"Name Type Default Nullable Children Parents Comment object_attribute_value_id integer nextval('object_attribute_value_object_attribute_value_id_seq'::regclass) false object_id integer false public.object object_attribute_id integer false public.object_attribute timestamp timestamp without time zone false value json false"},{"location":"db-docs/public.object_attribute_value/#constraints","title":"Constraints","text":"Name Type Definition object_attribute_value_object_attribute_id_fkey FOREIGN KEY FOREIGN KEY (object_attribute_id) REFERENCES object_attribute(object_attribute_id) object_attribute_value_pkey PRIMARY KEY PRIMARY KEY (object_attribute_value_id) object_attribute_value_object_id_fkey FOREIGN KEY FOREIGN KEY (object_id) REFERENCES object(object_id)"},{"location":"db-docs/public.object_attribute_value/#indexes","title":"Indexes","text":"Name Definition object_attribute_value_pkey CREATE UNIQUE INDEX object_attribute_value_pkey ON public.object_attribute_value USING btree (object_attribute_value_id)"},{"location":"db-docs/public.object_attribute_value/#relations","title":"Relations","text":"<p>Generated by tbls</p>"},{"location":"db-docs/public.object_relationship/","title":"public.object_relationship","text":""},{"location":"db-docs/public.object_relationship/#description","title":"Description","text":""},{"location":"db-docs/public.object_relationship/#columns","title":"Columns","text":"Name Type Default Nullable Children Parents Comment object_relationship_id integer nextval('object_relationship_object_relationship_id_seq'::regclass) false object_parent_id integer false public.object object_child_id integer false public.object qualifier_id integer true public.qualifier"},{"location":"db-docs/public.object_relationship/#constraints","title":"Constraints","text":"Name Type Definition fk_object_hierarchy UNIQUE UNIQUE (object_parent_id, object_child_id) object_relationship_object_child_id_fkey FOREIGN KEY FOREIGN KEY (object_child_id) REFERENCES object(object_id) object_relationship_object_parent_id_fkey FOREIGN KEY FOREIGN KEY (object_parent_id) REFERENCES object(object_id) object_relationship_pkey PRIMARY KEY PRIMARY KEY (object_relationship_id) object_relationship_qualifier_id_fkey FOREIGN KEY FOREIGN KEY (qualifier_id) REFERENCES qualifier(qualifier_id)"},{"location":"db-docs/public.object_relationship/#indexes","title":"Indexes","text":"Name Definition fk_object_hierarchy CREATE UNIQUE INDEX fk_object_hierarchy ON public.object_relationship USING btree (object_parent_id, object_child_id) object_relationship_pkey CREATE UNIQUE INDEX object_relationship_pkey ON public.object_relationship USING btree (object_relationship_id)"},{"location":"db-docs/public.object_relationship/#relations","title":"Relations","text":"<p>Generated by tbls</p>"},{"location":"db-docs/public.object_type/","title":"public.object_type","text":""},{"location":"db-docs/public.object_type/#description","title":"Description","text":""},{"location":"db-docs/public.object_type/#columns","title":"Columns","text":"Name Type Default Nullable Children Parents Comment object_type_id integer nextval('object_type_object_type_id_seq'::regclass) false public.object public.object_attribute name varchar(255) false"},{"location":"db-docs/public.object_type/#constraints","title":"Constraints","text":"Name Type Definition object_type_pkey PRIMARY KEY PRIMARY KEY (object_type_id)"},{"location":"db-docs/public.object_type/#indexes","title":"Indexes","text":"Name Definition object_type_pkey CREATE UNIQUE INDEX object_type_pkey ON public.object_type USING btree (object_type_id)"},{"location":"db-docs/public.object_type/#relations","title":"Relations","text":"<p>Generated by tbls</p>"},{"location":"db-docs/public.qualifier/","title":"public.qualifier","text":""},{"location":"db-docs/public.qualifier/#description","title":"Description","text":""},{"location":"db-docs/public.qualifier/#columns","title":"Columns","text":"Name Type Default Nullable Children Parents Comment qualifier_id integer nextval('qualifier_qualifier_id_seq'::regclass) false public.event_object_relationship public.object_relationship value json false"},{"location":"db-docs/public.qualifier/#constraints","title":"Constraints","text":"Name Type Definition qualifier_pkey PRIMARY KEY PRIMARY KEY (qualifier_id)"},{"location":"db-docs/public.qualifier/#indexes","title":"Indexes","text":"Name Definition qualifier_pkey CREATE UNIQUE INDEX qualifier_pkey ON public.qualifier USING btree (qualifier_id)"},{"location":"db-docs/public.qualifier/#relations","title":"Relations","text":"<p>Generated by tbls</p>"},{"location":"swagger/","title":"API Documentation","text":""}]}